---
import { Image } from "astro:assets";

import type { BaseBlog } from "@/entities/blog/model/type";

import cn from "@/shared/lib/cn";
import { getImageUrl } from "@/shared/lib/sanity-image-url";

type Props = BaseBlog & {
  containerClass?: string;
};
const { coverImage, title, description, slug, containerClass } = Astro.props;

const imageUrl = coverImage ? getImageUrl(coverImage).url() : "";
---

<div class={cn("flex flex-col justify-between gap-3", containerClass)}>
  {
    imageUrl && (
      <div class="shrink-0">
        <Image
          src={imageUrl}
          alt={title}
          inferSize
          class="aspect-video h-full w-full rounded-2xl object-cover"
        />
      </div>
    )
  }
  <div class="flex flex-col gap-1">
    <h6 class="text-on-surface dark:text-surface text-2xl font-medium">
      {title}
    </h6>
    <p class="text-on-surface-secondary dark:text-surface line-clamp-2 text-sm">
      {description}
    </p>
    <a
      href={`/blogs/${slug.current}`}
      class="group text-primary flex flex-row items-center gap-1"
    >
      <span>Icon</span>
      <span class="group-hover:underline">Continue Reading</span>
    </a>
  </div>
</div>
