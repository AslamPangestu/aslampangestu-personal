---
import { Image } from "astro:assets";

import type { BlockContent } from "@/entities/blockContent/model/type";
import type { Role } from "@/entities/role/model/type";
import SkillIcon from "@/entities/skill/ui/SkillIcon.astro";

import Background from "@/shared/assets/bg-tech-stack.png";

interface Props {
  data: BlockContent;
  roles: Role[];
}

const { data, roles } = Astro.props;

const title = data.content?.[0].value;
---

<section
  class="container mx-auto mb-12 flex w-full flex-col gap-5 px-6 md:px-8"
>
  <h2
    class="text-on-surface dark:text-surface text-2xl font-black uppercase md:text-4xl"
  >
    {title}
  </h2>
  <div class="grid grid-cols-1 gap-8 md:grid-cols-2">
    {
      roles.map((role) => (
        <div class="nth-1:bg-primary nth-4:bg-primary nth-2:bg-on-surface nth-3:bg-on-surface relative rounded-2xl">
          <Image
            src={Background}
            alt={`${role.title} Background`}
            inferSize
            class="absolute inset-0 h-full w-full object-cover"
          />
          <div class="flex flex-col gap-6 px-7 py-9">
            <h4 class="text-2xl font-black text-white">{role.title}</h4>
            <ul class="flex flex-row flex-wrap gap-6">
              {role.skills.map((skill) => (
                <SkillIcon skill={skill} />
              ))}
            </ul>
          </div>
        </div>
      ))
    }
  </div>
</section>
