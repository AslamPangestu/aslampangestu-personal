---
import { GetPage } from "@/entities/page/model/queries";
import { GetProjectsWithLimit } from "@/entities/project/model/queries";

import TechStack from "@/features/Project/ui/TechStack.astro";
import Main from "@/features/Project/ui/Main.astro";

import Intro from "@/widgets/Intro.astro";
import MainLayout from "@/widgets/MainLayout/index.astro";
import ClickToAction from "@/widgets/ClickToAction.astro";

const page = await GetPage({ name: "project" });
const portofolios = await GetProjectsWithLimit({ limit: 4 });

const hero = page.content[0];
---

<MainLayout
  title={page.title}
  keyword={page.keyword}
  description={page.description}
>
  <Intro {...hero} />
  <TechStack />
  <Main data={portofolios} />
  <ClickToAction />
</MainLayout>
